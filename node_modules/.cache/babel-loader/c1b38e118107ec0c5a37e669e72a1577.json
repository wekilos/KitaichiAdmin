{"ast":null,"code":"var _jsxFileName = \"/Users/wekilos1902gmail.com/Desktop/kitaichi/kitaichi-admin/src/pages/login/login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport { MailFilled, LockFilled, EyeFilled, EyeInvisibleFilled, PhoneFilled, CheckCircleFilled } from \"@ant-design/icons\";\nimport { message } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"./login.css\";\nimport { axiosInstance } from \"../../utils/axiosIntance\";\nimport { useHistory } from \"react-router-dom\";\nimport { SebedimContext } from \"../../context/sebedim\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const {\n    dil\n  } = useContext(SebedimContext);\n  const history = useHistory();\n  const [phonenumber, setPhonenumber] = useState(\"+993\");\n  const [code, setCode] = useState(\"\");\n  const [type, setType] = useState(\"phone\");\n\n  const CheckPhone = () => {\n    axiosInstance.post(\"/api/admin/login\", {\n      phonenumber: phonenumber\n    }).then(data => {\n      if (data.data.login) {\n        setType(\"code\");\n        message.success(data.data.msg);\n      } else {\n        message.warning(data.data.msg);\n        console.log(data.data.msg);\n      }\n    }).catch(err => {\n      console.log(err);\n      message.warn(err.msg);\n    });\n  };\n\n  const CheckCode = () => {\n    axiosInstance.post(\"/api/admin/check\", {\n      phonenumber: phonenumber,\n      code: code\n    }).then(data => {\n      console.log(data.data);\n\n      if (data.data.login) {\n        message.success(data.data.msg);\n        localStorage.setItem(\"userData\", JSON.stringify(data.data));\n        history.push({\n          pathname: \"/orders\"\n        });\n      } else {\n        message.warning(data.data.msg);\n        console.log(data.data.msg);\n      }\n    }).catch(err => {\n      console.log(err);\n      message.warn(err.msg);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"body\",\n    children: [type == \"phone\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container mt-10 rounded-[8px]\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"h2\",\n        children: dil === \"tm\" ? \"Gaýtadan hoş geldiňiz\" : dil === \"ru\" ? \"Добро пожаловать\" : \"Welcome Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"p\",\n        children: dil === \"tm\" ? \"Girmek üçin şahsyýet maglumatlaryňyzy giriziň!\" : dil === \"ru\" ? \"Введите свои учетные данные для доступа!\" : \"Enter your credentials to access!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container items-center flex\",\n        children: [/*#__PURE__*/_jsxDEV(PhoneFilled, {\n          className: \"icon rotate-[100deg]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onKeyPress: e => e.key == \"Enter\" && CheckCode(),\n          className: \"input items-center flex\",\n          value: phonenumber,\n          type: \"text\",\n          autoFocus: type == \"phone\",\n          style: {\n            width: \"395px\"\n          },\n          placeholder: \"Telefon belgi\",\n          onChange: e => {\n            e.target.value.length >= 4 && e.target.value.length <= 12 && e.target.value.slice(0, 4) == \"+993\" && setPhonenumber(e.target.value);\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: () => CheckPhone(),\n        children: dil === \"tm\" ? \"Giriň\" : dil === \"ru\" ? \"Войти\" : \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), type == \"code\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container mt-10 rounded-[8px]\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"h2\",\n        children: dil === \"tm\" ? \"Gaýtadan hoş geldiňiz\" : dil === \"ru\" ? \"Добро пожаловать\" : \"Welcome Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"p\",\n        children: dil === \"tm\" ? \"Girmek üçin tassyklaýyş kody giriziň!\" : dil === \"ru\" ? \"Введите свои учетные данные для доступа!\" : \"Enter your credentials to access!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container items-center flex\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircleFilled, {\n          className: \"icon  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input items-center flex text-center\",\n          value: code,\n          type: \"number\",\n          autoFocus: type == \"phone\",\n          style: {\n            width: \"395px\"\n          },\n          placeholder: \"Tassyklaýyş kody\",\n          onChange: e => {\n            e.target.value.length <= 5 && setCode(e.target.value);\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: () => CheckCode(),\n        children: dil === \"tm\" ? \"Giriň\" : dil === \"ru\" ? \"Войти\" : \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"/ZDE3eZJNL4ji1vpP/Ky/cSGiiw=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useState","MailFilled","LockFilled","EyeFilled","EyeInvisibleFilled","PhoneFilled","CheckCircleFilled","message","axiosInstance","useHistory","SebedimContext","Login","dil","history","phonenumber","setPhonenumber","code","setCode","type","setType","CheckPhone","post","then","data","login","success","msg","warning","console","log","catch","err","warn","CheckCode","localStorage","setItem","JSON","stringify","push","pathname","e","key","width","target","value","length","slice"],"sources":["/Users/wekilos1902gmail.com/Desktop/kitaichi/kitaichi-admin/src/pages/login/login.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport {\n  MailFilled,\n  LockFilled,\n  EyeFilled,\n  EyeInvisibleFilled,\n  PhoneFilled,\n  CheckCircleFilled,\n} from \"@ant-design/icons\";\nimport { message } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"./login.css\";\nimport { axiosInstance } from \"../../utils/axiosIntance\";\nimport { useHistory } from \"react-router-dom\";\nimport { SebedimContext } from \"../../context/sebedim\";\n\nconst Login = () => {\n  const { dil } = useContext(SebedimContext);\n  const history = useHistory();\n  const [phonenumber, setPhonenumber] = useState(\"+993\");\n  const [code, setCode] = useState(\"\");\n  const [type, setType] = useState(\"phone\");\n  const CheckPhone = () => {\n    axiosInstance\n      .post(\"/api/admin/login\", {\n        phonenumber: phonenumber,\n      })\n      .then((data) => {\n        if (data.data.login) {\n          setType(\"code\");\n          message.success(data.data.msg);\n        } else {\n          message.warning(data.data.msg);\n          console.log(data.data.msg);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        message.warn(err.msg);\n      });\n  };\n\n  const CheckCode = () => {\n    axiosInstance\n      .post(\"/api/admin/check\", {\n        phonenumber: phonenumber,\n        code: code,\n      })\n      .then((data) => {\n        console.log(data.data);\n        if (data.data.login) {\n          message.success(data.data.msg);\n          localStorage.setItem(\"userData\", JSON.stringify(data.data));\n          history.push({ pathname: \"/orders\" });\n        } else {\n          message.warning(data.data.msg);\n          console.log(data.data.msg);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        message.warn(err.msg);\n      });\n  };\n  return (\n    <div className=\"body\">\n      {/* <h2 className='logo' >Logo</h2> */}\n      {type == \"phone\" && (\n        <div className=\"login-container mt-10 rounded-[8px]\">\n          <h2 className=\"h2\">\n            {dil === \"tm\"\n              ? \"Gaýtadan hoş geldiňiz\"\n              : dil === \"ru\"\n              ? \"Добро пожаловать\"\n              : \"Welcome Back\"}\n          </h2>\n          <p className=\"p\">\n            {dil === \"tm\"\n              ? \"Girmek üçin şahsyýet maglumatlaryňyzy giriziň!\"\n              : dil === \"ru\"\n              ? \"Введите свои учетные данные для доступа!\"\n              : \"Enter your credentials to access!\"}\n          </p>\n\n          <div className=\"input-container items-center flex\">\n            <PhoneFilled className=\"icon rotate-[100deg]\" />\n            <input\n              onKeyPress={(e) => e.key == \"Enter\" && CheckCode()}\n              className=\"input items-center flex\"\n              value={phonenumber}\n              type=\"text\"\n              autoFocus={type == \"phone\"}\n              style={{ width: \"395px\" }}\n              placeholder={\"Telefon belgi\"}\n              onChange={(e) => {\n                e.target.value.length >= 4 &&\n                  e.target.value.length <= 12 &&\n                  e.target.value.slice(0, 4) == \"+993\" &&\n                  setPhonenumber(e.target.value);\n              }}\n              required\n            />\n          </div>\n\n          <button className=\"button\" onClick={() => CheckPhone()}>\n            {dil === \"tm\" ? \"Giriň\" : dil === \"ru\" ? \"Войти\" : \"Login\"}\n          </button>\n        </div>\n      )}\n      {type == \"code\" && (\n        <div className=\"login-container mt-10 rounded-[8px]\">\n          <h2 className=\"h2\">\n            {dil === \"tm\"\n              ? \"Gaýtadan hoş geldiňiz\"\n              : dil === \"ru\"\n              ? \"Добро пожаловать\"\n              : \"Welcome Back\"}\n          </h2>\n          <p className=\"p\">\n            {dil === \"tm\"\n              ? \"Girmek üçin tassyklaýyş kody giriziň!\"\n              : dil === \"ru\"\n              ? \"Введите свои учетные данные для доступа!\"\n              : \"Enter your credentials to access!\"}\n          </p>\n\n          <div className=\"input-container items-center flex\">\n            <CheckCircleFilled className=\"icon  \" />\n            <input\n              className=\"input items-center flex text-center\"\n              value={code}\n              type=\"number\"\n              autoFocus={type == \"phone\"}\n              style={{ width: \"395px\" }}\n              placeholder={\"Tassyklaýyş kody\"}\n              onChange={(e) => {\n                e.target.value.length <= 5 && setCode(e.target.value);\n              }}\n              required\n            />\n          </div>\n\n          <button className=\"button\" onClick={() => CheckCode()}>\n            {dil === \"tm\" ? \"Giriň\" : dil === \"ru\" ? \"Войти\" : \"Login\"}\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}